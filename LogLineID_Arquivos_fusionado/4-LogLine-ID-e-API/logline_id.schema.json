{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LogLineID Schema",
  "description": "Esquema computável para identidades LogLineID",
  "type": "object",
  "properties": {
    "internal_id": { "type": "string", "pattern": "^logline-id://[a-zA-Z0-9\\-_]+$", "description": "ID institucional e rastreável" },
    "handle": { "type": "string", "pattern": "^@[a-zA-Z0-9\\-_]+$", "description": "Handle público obrigatório" },
    "origin": { "type": "string", "enum": ["humano", "objeto", "nó", "agente", "institucional"] },
    "created_at": { "type": "string", "format": "date-time" },
    "status": { "type": "string", "enum": ["ghost", "validado", "institucional", "revogado"] },
    "auth_methods": { "type": "array", "items": { "type": "string" } },
    "roles": { "type": "array", "items": { "type": "string" } },
    "trust_score": { "type": "number", "minimum": 0, "maximum": 100 },
    "permissions": { "type": "array", "items": { "type": "string" } }
  },
  "required": ["internal_id", "handle", "origin", "created_at", "status", "auth_methods"]
}
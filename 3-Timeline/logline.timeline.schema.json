{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LogLine Identity Timeline Schema",
  "description": "Schema de eventos computáveis para spans de identidade LogLine.",
  "type": "object",
  "properties": {
    "span_id": { "type": "string", "description": "UUID do span computável" },
    "type": { "type": "string", "enum": [
      "identity_created", "ghost_login", "biometria_validada",
      "rfid_validado", "identity_transitioned", "deleted", "recoverable"
    ]},
    "created_at": { "type": "string", "format": "date-time" },
    "internal_id": { "type": "string", "description": "logline-id://..." },
    "handle": { "type": "string", "description": "@handle público" },
    "provenance": { "type": "string", "description": "Origem do evento" },
    "agent": { "type": "string", "description": "ID do agente responsável" },
    "details": { "type": "object" }
  },
  "required": ["span_id", "type", "created_at", "internal_id", "handle", "provenance", "agent"]
}